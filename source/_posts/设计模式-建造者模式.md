---
title: 建造者模式
categories:
  - 理论
  - 设计模式
tags:
  - 设计模式
author: 长歌
abbrlink: 3898751754
date: 2019-11-07 23:00:00
---

建造者模式(Builder Pattern)，将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。
<!-- More -->

## Class Diagram
{% asset_img builderPattern.png 建造者模式UML图%}
## Implementation
### 具体产品
```java
public class Computer {
    List<String> components = new ArrayList<String>();

    public void add(String component){
        components.add(component);
    }

    public void display(){
        System.out.println("个人电脑，组成如下:\n--------------");
        components.forEach((System.out::println));
    }
}
```
### 建造者抽象类
```java
abstract class Builder {
    public abstract void buildCPU();
    public abstract void buildGPU();
    public abstract void buildPower();
    public abstract Computer build();
}
```

### 具体建造者
```java
public class StandardComputer extends Builder {

    private Computer computer = new Computer();

    @Override
    public void buildCPU() {
        computer.add("处理器");
    }

    @Override
    public void buildGPU() {
        computer.add("显卡");
    }

    @Override
    public void buildPower() {
        computer.add("电源");
    }

    @Override
    public Computer build() {
        return computer;
    }
}

public class MyComputer extends Builder{

    private Computer computer = new Computer();

    @Override
    public void buildCPU() {
        computer.add("AMD 2600x");
    }

    @Override
    public void buildGPU() {
        computer.add("GTX 2060");
    }

    @Override
    public void buildPower() {
        computer.add("爱国者 1250w");
    }

    @Override
    public Computer build() {
        return computer;
    }
}
```

### 指挥者
```java
public class Director {

    public void construct(Builder builder){
        builder.buildCPU();
        builder.buildGPU();
        builder.buildPower();
    }
}
```

### 测试
```java
public class BuilderTest {

    @Test
    public void test() throws Exception{
        Director director = new Director();

        Builder standardBuilder = new StandardComputer();
        Builder myBuilder = new MyComputer();

        director.construct(standardBuilder);
        Computer standardComputer = standardBuilder.build();
        standardComputer.display();

        director.construct(myBuilder);
        Computer myComputer = myBuilder.build();
        myComputer.display();
    }
}
```


## Example
- [java.lang.StringBuilder](http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html)
- [java.lang.StringBuffer](http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuffer.html#append-boolean-)

## Refence
- [<大话设计模式>](https://book.douban.com/subject/2334288/)
- [设计模式 | 菜鸟教程](https://www.runoob.com/design-pattern/design-pattern-tutorial.html)
- [Github | CyC2018](https://github.com/CyC2018/CS-Notes/blob/master/notes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E7%9B%AE%E5%BD%95.md)
