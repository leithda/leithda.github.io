---
title: 迭代器模式
categories:
  - 理论
  - 设计模式
tags:
  - 设计模式
author: 长歌
abbrlink: 1151138151
date: 2019-11-15 00:00:00
---


一种模式用于顺序访问集合对象的元素，不需要知道集合对象的底层表示。
<!-- More -->

## Class Diagram
{% asset_img iterator.png 迭代器模式UML图 %}

## Implementation
### 迭代器接口
```java
public interface Iterator<E> {
    /**
     * 是否有下一个元素
     * @return 是|否
     */
    boolean hasNext();

    /**
     * 获取下一个元素
     * @return 元素
     */
    E next();
}
```

### 迭代器实现类
```java
/**
 * Created with IntelliJ IDEA.
 * User: 长歌
 * Date: 2019/11/15
 * Description: 词典
 */
public class Dictionary {

    private String words[] = {"hello","world","leithda"};


    public Iterator<String> iterator(){
        return new Itr();
    }

    private class Itr implements Iterator<String> {
        int cursor;
        int lastRet = -1;

        @Override
        public boolean hasNext() {
            return cursor != words.length;
        }

        @Override
        public String next() {
            int i = cursor;
            if(i >= words.length){

            }
            cursor = i+1;
            return words[lastRet = i];
        }
    }
}
```

### 测试
```java
public class IteratorTest {

    @Test
    public void test() throws Exception{
        Dictionary dictionary = new Dictionary();

        Iterator it = dictionary.iterator();

        while(it.hasNext()){
            System.out.println(it.next());
        }
    }

}
```

## Example
- [java.util.Iterator](http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html)
- [java.util.Enumeration](http://docs.oracle.com/javase/8/docs/api/java/util/Enumeration.html)

## Refence
- [<大话设计模式>](https://book.douban.com/subject/2334288/)
- [设计模式 | 菜鸟教程](https://www.runoob.com/design-pattern/design-pattern-tutorial.html)
- [Github | CyC2018](https://github.com/CyC2018/CS-Notes/blob/master/notes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E7%9B%AE%E5%BD%95.md)